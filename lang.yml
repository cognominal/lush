# top map has `tokens`, `modes`, `snippets`
# `tokentypes` will be ventilated into `tokens` of mode 

defaultTokens: &default
  Space:
    priority: 0
    validator: true
  NakedString:
    priority: 0
  Number:
    secable: true
    priority: 100
  Variable:
    priority: 100
  StatementSnipField:
    priority: 100
  ExprSnipField:
    priority: 100
  Snippettrigger:

mode:
  Sh:
    tokens:
      <<: *default
      # so far a string cannot be both a snippet and a keyword
      # or cycling is necessary
      ExprField:
        placeholder: expression placeholder
      BlockField:
        placeholder: block placeholder
      ShKeyword:
        instances: if|else|for|while
        priority: 500
        secable: true
      Folder:
        priority: 200
      Path:
      InvalidPath:
        secable: true
      ValidPath:
        secable: true
      Sigil: {}
      Twigil: {}
      SigillessName: {}
      PromptChar: {}
      ShRedirect:
        secable: true
      ShToExpr:
        secable: true
      ShBuiltin:
        secable: true
      ShCommandName:
        priority: 1000
      jsProgram: {}
      jsExpressionStatement: {}
      jsLiteral:  {}
  Expr:
    constrained: true
    tokens:
      <<: *default
# for now, just keys for sake of completion using shift-tab
# tab will be used for the expansion of snippeys 
snippets:
  sh:
    pif:
      what: postfix if statement
      expansion:  
    rif:
      what: if statement
      expansion: ExprField
    x:
      what: expression

hilite:
  Sh.keyword: bold
  ValidPath: green
  InvalidPath: red
  NakedString: bgGray.white
  Number: blue
  Sh.commandName: italic
  Sh.builtin: bold.blue
  SnippetKey: bold.red

magicStr:
  shellMode:
    '&':
      type: Sh.background
    '(':
      type: Sh.toExpr
    '>':
      type: Sh.redirect
      nextToken: Path
    '>>':
      type: Sh.redirect
      nextToken: Path
